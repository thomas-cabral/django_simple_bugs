{% extends 'simple_bugs/base.html' %}
{% block content %}
<h1 class="page-header">Cases</h1>
<table class="table table-striped table-condensed">
<thead>
<tr>
    <th>
        Type
    </th>
    <th>
        ID
    </th>
    <th>
        Title
    </th>
    <th>
        Relation
    </th>
    <th>
        Date Created
    </th>
    <th>
        Open For
    </th>
</tr>
</thead>
<a class="btn btn-primary pull-right" href="{% url 'simple_bugs:case_create' %}"><i class="fa fa-plus fa-fw"></i> Add Case</a>
<tbody>
{% for case in case %}
<tr>
<td>
    {% if case.type == 'BUG' %}
    <i class="fa fa-bug fa-lg fa-fw"></i>
    {% elif case.type == 'FEATURE_REQUEST' %}
    <i class="fa fa-lightbulb-o fa-lg fa-fw"></i>
    {% endif %}
</td>
<td>
    {{ case.id }}
</td>
<td>
    <a href="{% url 'simple_bugs:case_detail' case.id case.slug %}">{{ case.title }}</a>
</td>
<td>
    {% if case.requirement %}
    <a href="{% url 'simple_bugs:requirement_detail' case.requirement.id case.requirement.slug %}">{{ case.requirement.title }}</a>
    {% else %}
    None
    {% endif %}
</td>
<td>
    {{ case.created_on }}
</td>
<td>
    {{ case.created_on|timesince }}
</td>
</tr>
{% endfor %}
</tbody>
</table>
        {% if is_paginated %}
        <div class="pagination">
            <span class="page-links">
                {% if page_obj.has_previous %}
                    <a href="/simple_bugs/cases?page={{ page_obj.previous_page_number }}">previous</a>
                {% endif %}
                <span class="page-current">
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                </span>
                {% if page_obj.has_next %}
                    <a href="/simple_bugs/cases?page={{ page_obj.next_page_number }}">next</a>
                {% endif %}
            </span>
        </div>
{% endif %}
{% endblock %}